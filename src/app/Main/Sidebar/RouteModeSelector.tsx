import React, { FC } from 'react';
import { useAppDispatch, useAppSelector } from '../../../assets/hooks/redux';
import { currentRouteSlice } from '../../../store/reducers/CurrentRouteSlice';

const RouteModeSelector = () => {


    return (
        <div className='additional-info-container'>
            <ModeVariantContainer modeVariant={"masstransit"} time='2 30' >
                <Bus />
            </ModeVariantContainer>
            <ModeVariantContainer modeVariant={"pedestrian"} time='2 30' >
                <Tapok />
                <Tapok />
            </ModeVariantContainer>
        </div>
    );
};

export default RouteModeSelector;


interface Props {
    modeVariant: "masstransit" | "pedestrian"
    time: string
    children: React.ReactNode
}

const ModeVariantContainer: FC<Props> = ({children, modeVariant, time}) => {
    const dispatch = useAppDispatch();
    const {setRouteMode} = currentRouteSlice.actions;
    const {mode} = useAppSelector(state => state.currentRoute);
    const isActive = mode === modeVariant;

    const onClick = () => dispatch(setRouteMode(modeVariant));

    return (
        <div 
            className={`mode-variant-container${isActive ? " active" : ""}`} 
            onClick={onClick}
        >
            <div className='mode-img-container'>
                {children}
            </div>
            {
                isActive &&
                <div className='mode-time'>
                    <span>{time}</span>
                </div>
            }
            
        </div>
    )
}

const Bus = () => {
    return (
        <svg width="24" height="30" viewBox="0 0 68 80" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.4237 62.6775C10.7746 62.6775 8.6267 60.5294 8.6267 57.8805C8.6267 55.2317 10.7749 53.0836 13.4237 53.0836C16.0739 53.0836 18.2221 55.2313 18.2222 57.8804L13.4237 62.6775ZM13.4237 62.6775C16.0738 62.6775 18.2223 60.5299 18.2222 57.8805L13.4237 62.6775ZM8.10202 71.1122V70.2227L7.32155 69.7961C3.8515 67.899 1.5 64.2191 1.5 60.0047V14.8858C1.5 7.49353 7.49346 1.5 14.8873 1.5H52.4269C59.8193 1.5 65.8127 7.49341 65.8125 14.8857V60.0047C65.8125 64.2193 63.4612 67.899 59.991 69.796L59.2105 70.2227V71.1122V78.5H50.9062V73.6566C50.9062 72.2759 49.7869 71.1566 48.4062 71.1566H18.43C17.0493 71.1566 15.93 72.2759 15.93 73.6566V78.0881H8.10202V71.1122ZM38.8399 65.5025C40.2206 65.5025 41.3399 64.3832 41.3399 63.0025V59.6169C41.3399 58.2362 40.2206 57.1169 38.8399 57.1169H28.4728C27.0921 57.1169 25.9728 58.2362 25.9728 59.6169V63.0025C25.9728 64.3832 27.0921 65.5025 28.4728 65.5025H38.8399ZM8.8642 41.6784C8.8642 44.3015 10.9928 46.4301 13.6159 46.4301L53.6966 46.4299C56.3207 46.4299 58.4501 44.3019 58.4501 41.6782V21.7784C58.4501 19.1539 56.3197 17.0284 53.6966 17.0284H13.6159C10.9936 17.0284 8.8642 19.1545 8.8642 21.7784V41.6784ZM49.0902 57.8805C49.0902 60.5304 51.2411 62.6775 53.889 62.6775C56.5379 62.6775 58.6858 60.5293 58.6858 57.8805C58.6858 55.2319 56.5381 53.0836 53.889 53.0836C51.2409 53.0836 49.0902 55.2308 49.0902 57.8805Z" stroke="black" stroke-width="3"/>
        </svg>
    )
}


const Tapok = () => {
    return (
        <svg width="24" height="15" viewBox="0 0 80 34" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="path-1-inside-1_326_1473" fill="white">
            <path d="M79.5764 21.528L78.2683 18.4732C78.2497 18.4292 78.2163 18.3958 78.1924 18.3545C78.0791 18.0731 77.939 17.7864 77.7363 17.4931C75.7774 14.6489 70.3182 13.2861 61.4949 13.4328L60.1934 23.1736C59.3147 23.2282 58.4119 23.2789 57.4839 23.3217L58.9028 12.6994L54.4303 10.5952L50.482 17.1771C50.2313 17.5945 49.79 17.8239 49.3366 17.8239C49.1032 17.8239 48.8671 17.7638 48.6525 17.6345C48.0203 17.2558 47.8164 16.4357 48.1951 15.805L52.0047 9.45376L49.0231 8.05096L45.1482 14.5102C44.8975 14.9276 44.4561 15.157 44.0027 15.157C43.7694 15.157 43.5333 15.0969 43.3186 14.9676C42.6867 14.5888 42.4825 13.7688 42.8613 13.1381L46.5975 6.90949L43.6159 5.50669L39.8142 11.8433C39.5635 12.2606 39.1222 12.49 38.6687 12.49C38.4354 12.49 38.1995 12.43 37.9847 12.3007C37.3525 11.9219 37.1485 11.1019 37.5273 10.4711L41.1903 4.36522L38.2087 2.96115L34.4804 9.17638C34.2297 9.59372 33.7883 9.82313 33.3349 9.82313C33.1015 9.82313 32.8655 9.76307 32.6508 9.63375C32.0187 9.25501 31.8147 8.43494 32.1935 7.80423L35.7831 1.82111L32.1853 0.126309C31.5759 -0.159017 30.8493 0.052914 30.4893 0.622296C30.1266 1.19565 21.4311 14.5834 5.36973 5.22803C5.30571 5.1907 5.23104 5.19197 5.16305 5.16671C5.07773 5.13335 5.00164 5.0841 4.90695 5.06932C3.87352 4.8933 2.66676 4.68391 2.66676 3.19055C2.66676 2.45452 2.07068 1.85718 1.33338 1.85718C0.597343 1.85718 0 2.45452 0 3.19055C0 5.2668 1.25871 6.49755 3.1683 7.30428C2.05082 13.2394 0.383984 21.8375 0.0694252 22.7829C0.0508377 22.8403 0.0640237 22.8989 0.0521086 22.9563C0.0363807 23.0401 0.000317736 23.1189 0.000317736 23.2055V31.1581C0.000317736 31.8835 0.580344 32.4756 1.30446 32.4915C1.62712 32.4982 33.7006 33.2036 54.2889 33.8249C55.0677 33.8489 55.8223 33.8595 56.5585 33.8595C67.9835 33.8595 74.2787 31.1192 77.5883 28.7363C79.7524 27.1793 80.5806 24.2404 79.5764 21.528ZM10.668 13.3341C11.9175 13.3341 13.5428 13.8862 14.6683 14.8302C15.795 13.886 17.4205 13.3341 18.6686 13.3341C19.406 13.3341 20.0019 13.9314 20.0019 14.6675C20.0019 15.4049 19.4059 16.0009 18.6686 16.0009C17.5738 16.0009 16.0617 16.905 16.0016 17.3369C16.0016 17.357 16.0016 17.3782 16.0004 17.3997C15.9697 18.1063 15.3857 18.6705 14.6683 18.6705C13.9335 18.6705 13.3374 18.0731 13.3349 17.3396V17.3342C13.2788 16.9075 11.7642 16.0009 10.668 16.0009C9.93194 16.0009 9.3346 15.4048 9.3346 14.6675C9.33444 13.9314 9.93178 13.3341 10.668 13.3341ZM76.0308 26.5726C72.8425 28.8674 66.4821 31.517 54.3703 31.1596C36.138 30.6089 8.90899 29.9928 2.66723 29.8541V24.6404C7.58769 24.9977 20.5287 25.8605 34.3699 26.1752H34.4127C37.3397 26.242 40.3025 26.2833 43.2402 26.2899H43.4281C43.6561 26.2912 43.8842 26.2926 44.1122 26.2926C44.5723 26.2926 45.027 26.2872 45.4856 26.286C45.8523 26.2847 46.2189 26.2847 46.5843 26.282C47.1884 26.2766 47.7859 26.2699 48.3845 26.262C48.7684 26.2566 49.1539 26.2526 49.5353 26.2459C50.1114 26.2366 50.6795 26.2232 51.2489 26.2099C51.6422 26.2005 52.0356 26.1926 52.425 26.1819C52.9703 26.1673 53.5076 26.1473 54.0464 26.1285C54.4504 26.1152 54.8558 26.1018 55.2558 26.0858C55.7651 26.0658 56.2665 26.0405 56.7679 26.0165C57.1786 25.9979 57.5907 25.9779 57.9947 25.9565C58.4734 25.9298 58.9401 25.9004 59.4094 25.8697C59.8188 25.8445 60.2308 25.8191 60.6322 25.7897C61.0817 25.7577 61.5176 25.7217 61.955 25.687C62.3563 25.6537 62.759 25.6217 63.1498 25.5857C63.5672 25.5483 63.9699 25.5056 64.3753 25.4643C64.766 25.4243 65.1581 25.3842 65.5381 25.3417C65.9235 25.2976 66.2941 25.2482 66.6662 25.2017C67.0395 25.1537 67.4129 25.1057 67.7716 25.0536C68.1289 25.0029 68.4703 24.947 68.8144 24.8922C69.161 24.8361 69.5079 24.7815 69.8399 24.7216C70.1679 24.663 70.4785 24.6002 70.7906 24.5376C71.1092 24.4736 71.4294 24.4096 71.732 24.3416C72.0267 24.2749 72.3027 24.2042 72.5827 24.1336C72.8695 24.0617 73.1561 23.9897 73.4268 23.9123C73.6881 23.8377 73.9295 23.7576 74.1735 23.6789C74.4254 23.5976 74.6776 23.5163 74.9095 23.431C75.1362 23.3469 75.3415 23.2589 75.5496 23.1709C75.7617 23.0802 75.9749 22.9896 76.167 22.8949C76.3563 22.8015 76.5242 22.7029 76.6923 22.6056C76.8083 22.5376 76.947 22.4763 77.0538 22.4056L77.1005 22.5149C77.6657 24.0443 77.2257 25.7125 76.0308 26.5726Z"/>
            </mask>
            <path d="M79.5764 21.528L78.2683 18.4732C78.2497 18.4292 78.2163 18.3958 78.1924 18.3545C78.0791 18.0731 77.939 17.7864 77.7363 17.4931C75.7774 14.6489 70.3182 13.2861 61.4949 13.4328L60.1934 23.1736C59.3147 23.2282 58.4119 23.2789 57.4839 23.3217L58.9028 12.6994L54.4303 10.5952L50.482 17.1771C50.2313 17.5945 49.79 17.8239 49.3366 17.8239C49.1032 17.8239 48.8671 17.7638 48.6525 17.6345C48.0203 17.2558 47.8164 16.4357 48.1951 15.805L52.0047 9.45376L49.0231 8.05096L45.1482 14.5102C44.8975 14.9276 44.4561 15.157 44.0027 15.157C43.7694 15.157 43.5333 15.0969 43.3186 14.9676C42.6867 14.5888 42.4825 13.7688 42.8613 13.1381L46.5975 6.90949L43.6159 5.50669L39.8142 11.8433C39.5635 12.2606 39.1222 12.49 38.6687 12.49C38.4354 12.49 38.1995 12.43 37.9847 12.3007C37.3525 11.9219 37.1485 11.1019 37.5273 10.4711L41.1903 4.36522L38.2087 2.96115L34.4804 9.17638C34.2297 9.59372 33.7883 9.82313 33.3349 9.82313C33.1015 9.82313 32.8655 9.76307 32.6508 9.63375C32.0187 9.25501 31.8147 8.43494 32.1935 7.80423L35.7831 1.82111L32.1853 0.126309C31.5759 -0.159017 30.8493 0.052914 30.4893 0.622296C30.1266 1.19565 21.4311 14.5834 5.36973 5.22803C5.30571 5.1907 5.23104 5.19197 5.16305 5.16671C5.07773 5.13335 5.00164 5.0841 4.90695 5.06932C3.87352 4.8933 2.66676 4.68391 2.66676 3.19055C2.66676 2.45452 2.07068 1.85718 1.33338 1.85718C0.597343 1.85718 0 2.45452 0 3.19055C0 5.2668 1.25871 6.49755 3.1683 7.30428C2.05082 13.2394 0.383984 21.8375 0.0694252 22.7829C0.0508377 22.8403 0.0640237 22.8989 0.0521086 22.9563C0.0363807 23.0401 0.000317736 23.1189 0.000317736 23.2055V31.1581C0.000317736 31.8835 0.580344 32.4756 1.30446 32.4915C1.62712 32.4982 33.7006 33.2036 54.2889 33.8249C55.0677 33.8489 55.8223 33.8595 56.5585 33.8595C67.9835 33.8595 74.2787 31.1192 77.5883 28.7363C79.7524 27.1793 80.5806 24.2404 79.5764 21.528ZM10.668 13.3341C11.9175 13.3341 13.5428 13.8862 14.6683 14.8302C15.795 13.886 17.4205 13.3341 18.6686 13.3341C19.406 13.3341 20.0019 13.9314 20.0019 14.6675C20.0019 15.4049 19.4059 16.0009 18.6686 16.0009C17.5738 16.0009 16.0617 16.905 16.0016 17.3369C16.0016 17.357 16.0016 17.3782 16.0004 17.3997C15.9697 18.1063 15.3857 18.6705 14.6683 18.6705C13.9335 18.6705 13.3374 18.0731 13.3349 17.3396V17.3342C13.2788 16.9075 11.7642 16.0009 10.668 16.0009C9.93194 16.0009 9.3346 15.4048 9.3346 14.6675C9.33444 13.9314 9.93178 13.3341 10.668 13.3341ZM76.0308 26.5726C72.8425 28.8674 66.4821 31.517 54.3703 31.1596C36.138 30.6089 8.90899 29.9928 2.66723 29.8541V24.6404C7.58769 24.9977 20.5287 25.8605 34.3699 26.1752H34.4127C37.3397 26.242 40.3025 26.2833 43.2402 26.2899H43.4281C43.6561 26.2912 43.8842 26.2926 44.1122 26.2926C44.5723 26.2926 45.027 26.2872 45.4856 26.286C45.8523 26.2847 46.2189 26.2847 46.5843 26.282C47.1884 26.2766 47.7859 26.2699 48.3845 26.262C48.7684 26.2566 49.1539 26.2526 49.5353 26.2459C50.1114 26.2366 50.6795 26.2232 51.2489 26.2099C51.6422 26.2005 52.0356 26.1926 52.425 26.1819C52.9703 26.1673 53.5076 26.1473 54.0464 26.1285C54.4504 26.1152 54.8558 26.1018 55.2558 26.0858C55.7651 26.0658 56.2665 26.0405 56.7679 26.0165C57.1786 25.9979 57.5907 25.9779 57.9947 25.9565C58.4734 25.9298 58.9401 25.9004 59.4094 25.8697C59.8188 25.8445 60.2308 25.8191 60.6322 25.7897C61.0817 25.7577 61.5176 25.7217 61.955 25.687C62.3563 25.6537 62.759 25.6217 63.1498 25.5857C63.5672 25.5483 63.9699 25.5056 64.3753 25.4643C64.766 25.4243 65.1581 25.3842 65.5381 25.3417C65.9235 25.2976 66.2941 25.2482 66.6662 25.2017C67.0395 25.1537 67.4129 25.1057 67.7716 25.0536C68.1289 25.0029 68.4703 24.947 68.8144 24.8922C69.161 24.8361 69.5079 24.7815 69.8399 24.7216C70.1679 24.663 70.4785 24.6002 70.7906 24.5376C71.1092 24.4736 71.4294 24.4096 71.732 24.3416C72.0267 24.2749 72.3027 24.2042 72.5827 24.1336C72.8695 24.0617 73.1561 23.9897 73.4268 23.9123C73.6881 23.8377 73.9295 23.7576 74.1735 23.6789C74.4254 23.5976 74.6776 23.5163 74.9095 23.431C75.1362 23.3469 75.3415 23.2589 75.5496 23.1709C75.7617 23.0802 75.9749 22.9896 76.167 22.8949C76.3563 22.8015 76.5242 22.7029 76.6923 22.6056C76.8083 22.5376 76.947 22.4763 77.0538 22.4056L77.1005 22.5149C77.6657 24.0443 77.2257 25.7125 76.0308 26.5726Z" stroke="black" stroke-width="6" mask="url(#path-1-inside-1_326_1473)"/>
        </svg>
    )
}
